"use strict";(self["webpackChunkbomb_calorimetry_v2"]=self["webpackChunkbomb_calorimetry_v2"]||[]).push([[384],{9611:function(e,t,a){a.r(t),a.d(t,{default:function(){return A}});var l=a(9014),r=a(6463),s=a(5215),i=a(5776),n=a(2367),o=a(8107),m=a(7546),d=a(4045),u=a(7071),p=a(4316),h=a(7504),g=a(1149),x=a(5693),w=a(9232),c=a(8960),y=a(3553),W=a(4207);const _={key:0},f=(0,l._)("strong",null,"Warning!",-1),b={key:1},k=(0,l._)("strong",null,"Warning!",-1),T=(0,l._)("h2",null,"Run the simulation",-1),C=(0,l._)("h3",{id:"sample_name"},null,-1),v=(0,l._)("div",{id:"graph",style:{width:"550px",height:"300px"}},null,-1),S={style:{width:"50%"}},M={key:2},D=(0,l._)("td",null,"Molecular Weight",-1);function $(e,t,a,$,U,V){return(0,l.wg)(),(0,l.j4)(m.K,{class:"fill-height"},{default:(0,l.w5)((()=>[(0,l.Wm)(g.tj,{class:"text-center fill-height"},{default:(0,l.w5)((()=>[U.exp.sampleWgt<.2||U.exp.sampleWgt>2||U.exp.itWater<24||U.exp.itWater>30?((0,l.wg)(),(0,l.j4)(s.w,{key:0,border:"start",variant:"tonal",color:"red"},{default:(0,l.w5)((()=>[U.exp.sampleWgt<.2||U.exp.sampleWgt>2?((0,l.wg)(),(0,l.iD)("div",_,[f,(0,l.Uk)(" Sample weight must be between 0.2 and 2 grams. ")])):(0,l.kq)("",!0),U.exp.itWater<24||U.exp.itWater>30?((0,l.wg)(),(0,l.iD)("div",b,[k,(0,l.Uk)(" Water temperatuer be between 24 and 30 °C. ")])):(0,l.kq)("",!0)])),_:1})):(0,l.kq)("",!0),T,C,(0,l.Wm)(d.o,{align:"center",justify:"center",style:{"margin-top":"20px"}},{default:(0,l.w5)((()=>[v,(0,l.Wm)(x.Y,null,{default:(0,l.w5)((()=>[(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(U.tableData,(a=>((0,l.wg)(),(0,l.iD)("tr",{key:a.name},[(0,l._)("td",null,(0,r.zw)(a.name),1),(0,l._)("td",S,["Sample Weight"===a.name?((0,l.wg)(),(0,l.j4)(w.h,{key:0,modelValue:U.exp.sampleWgt,"onUpdate:modelValue":t[0]||(t[0]=e=>U.exp.sampleWgt=e),"hide-details":"","single-line":"",type:"number",disabled:0!=U.ran||e.$store.getters.getSample<0},{append:(0,l.w5)((()=>[(0,l.Uk)("g")])),_:1},8,["modelValue","disabled"])):"Water Temp"===a.name?((0,l.wg)(),(0,l.j4)(w.h,{key:1,modelValue:U.exp.itWater,"onUpdate:modelValue":t[1]||(t[1]=e=>U.exp.itWater=e),"hide-details":"","single-line":"",type:"number",disabled:0!=U.ran||e.$store.getters.getSample<0},{append:(0,l.w5)((()=>[(0,l.Uk)("°C")])),_:1},8,["modelValue","disabled"])):((0,l.wg)(),(0,l.iD)("span",M,(0,r.zw)(a.value+(()=>a.name.includes("Temp")?" °C":" g")()),1))])])))),128))])])),_:1})])),_:1}),(0,l.Wm)(d.o,{align:"center",justify:"center"},{default:(0,l.w5)((()=>[(0,l.Wm)(u.C),(0,l.Wm)(i.T,{color:"red",onClick:V.experiment,disabled:0!=U.ran||e.$store.getters.getSample<0||U.exp.sampleWgt<.2||U.exp.sampleWgt>2||U.exp.itWater<24||U.exp.itWater>30},{default:(0,l.w5)((()=>[(0,l.Uk)("Ignite")])),_:1},8,["onClick","disabled"]),(0,l.Wm)(u.C),(0,l.Wm)(i.T,{color:"green",onClick:V.download,disabled:1!=U.ran||e.$store.getters.getSample<0},{default:(0,l.w5)((()=>[(0,l.Uk)(" Download Data ")])),_:1},8,["onClick","disabled"]),(0,l.Wm)(u.C),(0,l.Wm)(o.B,{modelValue:U.dialog,"onUpdate:modelValue":t[4]||(t[4]=e=>U.dialog=e),fullscreen:"",scrim:!1,transition:"dialog-bottom-transition"},{activator:(0,l.w5)((({props:t})=>[(0,l.Wm)(i.T,(0,l.dG)(t,{color:"blue",disabled:U.ran<1||e.$store.getters.getSample<0}),{default:(0,l.w5)((()=>[(0,l.Uk)("View Results")])),_:2},1040,["disabled"])])),default:(0,l.w5)((()=>[(0,l.Wm)(n._,null,{default:(0,l.w5)((()=>[(0,l.Wm)(y.i,{dark:"",color:"primary"},{default:(0,l.w5)((()=>[(0,l.Wm)(i.T,{icon:"",dark:"",onClick:t[2]||(t[2]=e=>U.dialog=!1)},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,null,{default:(0,l.w5)((()=>[(0,l.Uk)("mdi-close")])),_:1})])),_:1}),(0,l.Wm)(W.q,null,{default:(0,l.w5)((()=>[(0,l.Uk)("Test Results")])),_:1})])),_:1}),(0,l.Wm)(d.o,{style:{margin:"10px 20%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(c.z,{modelValue:U.data,"onUpdate:modelValue":t[3]||(t[3]=e=>U.data=e),"auto-grow":"",readonly:""},null,8,["modelValue"]),(0,l.Wm)(p.D,{fluid:""},{default:(0,l.w5)((()=>[(0,l._)("h2",null,(0,r.zw)(U.samples[e.$store.getters.getSample].sName),1),(0,l._)("h3",null,(0,r.zw)(U.samples[e.$store.getters.getSample].sFormula),1),(0,l.Wm)(x.Y,null,{default:(0,l.w5)((()=>[(0,l._)("tbody",null,[(0,l._)("tr",null,[D,(0,l._)("td",null,(0,r.zw)(U.samples[e.$store.getters.getSample].sM+" g/mol"),1)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(U.tableData,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.name},[(0,l._)("td",null,(0,r.zw)(e.name),1),(0,l._)("td",null,(0,r.zw)(e.value+(()=>e.name.includes("Temp")?" °C":" g")()),1)])))),128))])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(u.C)])),_:1})])),_:1})])),_:1})}a(6353),a(9931),a(7228),a(9013);var U=a(8620),V=a(3678),N=a(9873),j=a.n(N);let R=null;var z={data(){return{samples:U.L,output:{},exp:{},data:"",ran:0,tableData:[],dialog:!1,T:{Ti:"?",Tf:"?"}}},mounted(){const e=this.$store.getters.getSample,t=document.getElementById("sample_name");t.textContent=e>=0?U.L[e].sName:"No Sample Selected";const a=this.$store.getters.getCalorimeterCode,l=Number(a[0]),r=Number(a[1]),s=Number(a[2]),i=Number(a[3]);this.exp=new V.K(e,l,r,s,i),this.tableData=[{name:"Sample Weight",value:Math.round(1e3*this.exp.sampleWgt)/1e3},{name:"Water Temp",value:Math.round(1e3*this.exp.tWater)/1e3},{name:"Room Temp",value:Math.round(1e3*this.exp.tRoom)/1e3},{name:"Wire Before",value:Math.round(1e3*this.exp.wireWgt)/1e3},{name:"Wire After",value:"?"}],R=document.getElementById("graph"),j().newPlot(R,[{x:[],y:[]}],{xaxis:{title:"Time (min)"},yaxis:{title:"Temperature (°C)"}})},methods:{experiment(){const e=this.$store.getters.getSample;if(e>=0){let e=this.exp.experiment();this.data=this.exp.output,this.output=e;let t=25;for(let a=0;a<this.exp.g_X.length;a++){let e=120*t+a*t;a<6?e=20*a*t:a>=this.exp.g_X.length-7&&(e=120*t+(this.exp.g_X.length-7)*t+20*(a-this.exp.g_X.length+7)*t),setTimeout((()=>{j().newPlot(R,{data:[{x:this.exp.g_X.slice(0,a),y:this.exp.g_Y.slice(0,a),mode:"markers"}]},{xaxis:{title:"Time (min)"},yaxis:{title:"Temperature (°C)"}}),a==this.exp.g_X.length-1&&(this.ran=1)}),e)}this.tableData[4].value=Math.round(1e3*this.exp.wireAfter)/1e3}this.tableData[0].value=Math.round(1e3*this.exp.sampleWgt)/1e3,this.tableData[1].value=Math.round(1e3*this.exp.itWater)/1e3},extrapolate(){let e=[],t=[],a=[],l=[],r=this.output.aint,s=this.output.aslope,i=this.output.bint,n=this.output.bslope,o=0,m=1;for(1==m;m<20;m++)o=r+s*(.125+m/2),e.push(.5*m),t.push(o);for(m=10,10==m;m<36;m++)o=i+n*(.125+m/2),a.push(.5*m),l.push(o);let d=7,u=r+s*(.125+d),p=i+n*(.125+d);this.T.Ti=u,this.T.Tf=p;let h={type:"line",x0:d,y0:u,x1:d,y1:p,line:{color:"grey",width:1.5,dash:"dot"}},g={margin:{t:0},hovermode:"x",xaxis:{title:"Time (min)",spikemode:"across"},yaxis:{title:"Temperature (°C)"},shapes:[h],annotations:[{x:d,y:u,xref:"x",yref:"y",text:"T initial = "+Math.round(1e3*u)/1e3,showarrow:!0,arrowhead:7,ax:10,ay:20},{x:d,y:p,xref:"x",yref:"y",text:"T final = "+Math.round(1e3*p)/1e3,showarrow:!0,arrowhead:7,ax:-10,ay:-20}]},x=[{x:this.exp.g_X,y:this.exp.g_Y,name:"Data",mode:"markers"},{x:e,y:t,name:"",mode:"lines",line:{dash:"dash"}},{x:a,y:l,name:"",mode:"lines",line:{dash:"dash"}}];j().react(R,x,g);const w=this;R.on("plotly_click",(function(e){const t=e.points[0].x,a=r+s*(.125+t),l=i+n*(.125+t);h.x0=t,h.x1=t,h.y0=a,h.y1=l,w.T.Ti=a,w.T.Tf=l,g.shapes=[h],g.annotations=[{x:t,y:a,xref:"x",yref:"y",text:"T initial = "+Math.round(1e3*a)/1e3,showarrow:!0,arrowhead:7,ax:10,ay:20},{x:t,y:l,xref:"x",yref:"y",text:"T final = "+Math.round(1e3*l)/1e3,showarrow:!0,arrowhead:7,ax:-10,ay:-20}],j().relayout(R,g)})),this.ran=2},numberOrString(e){return"string"===typeof e||e instanceof String?e:Math.round(1e3*e)/1e3},download(){const e=document.createElement("a");let t="";t+="Calorimeter Code,"+this.$store.getters.getCalorimeterCode+"\n",t+="Sample Name,"+U.L[this.$store.getters.getSample].sName+"\n",t+="Formula,"+U.L[this.$store.getters.getSample].sFormula+"\n",t+="Molecular Weight,"+Math.round(1e3*this.samples[this.$store.getters.getSample].sM)/1e3+" g/mol\n",t+="Sample Weight,"+Math.round(1e3*this.exp.sampleWgt)/1e3+" g\n",t+="Water Temp,"+Math.round(1e3*this.exp.itWater)/1e3+" deg C\n",t+="Room Temp,"+Math.round(1e3*this.exp.tRoom)/1e3+" deg C\n",t+="Wire Before,"+Math.round(1e3*this.exp.wireWgt)/1e3+" g\n",t+="Wire After,"+Math.round(1e3*this.exp.wireAfter)/1e3+" g\n",t+=this.data;const a=new Blob([t],{type:"text/plain"});e.href=URL.createObjectURL(a);const l=this.$store.getters.getSample;let r=U.L[l].sName;r=r.replace(/ /g,"_"),r=r.toLowerCase(),e.download="data_"+r+"_cc"+this.$store.getters.getCalorimeterCode+".csv",document.body.appendChild(e),e.click()}}},L=a(9128);const X=(0,L.Z)(z,[["render",$]]);var B=X,Y=(0,l.aZ)({__name:"Calorimetry",setup(e){return(e,t)=>((0,l.wg)(),(0,l.j4)(B))}});const q=Y;var A=q}}]);
//# sourceMappingURL=384.c09b8185.js.map